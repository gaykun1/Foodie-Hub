{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/FoodieHub/client/src/hooks/reduxHooks.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { AppDispatch, RootState } from \"@/redux/store\";\r\nimport { TypedUseSelectorHook, useDispatch, useSelector } from \"react-redux\";\r\n\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\r\nexport const useAppSelector : TypedUseSelectorHook<RootState> = useSelector;\r\n\r\n\r\n//!! check why so sintax!!!"],"names":[],"mappings":";;;;AAGA;AAHA;;AAKO,MAAM,iBAAiB,IAAM,CAAA,GAAA,yJAAA,CAAA,cAAW,AAAD;AACvC,MAAM,iBAAmD,yJAAA,CAAA,cAAW,EAG3E,2BAA2B","debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/FoodieHub/client/src/app/%28profile%29/profile/page.tsx"],"sourcesContent":["\"use client\";\r\nimport { useAppDispatch, useAppSelector } from \"@/hooks/reduxHooks\";\r\nimport { login } from \"@/redux/authSlice\";\r\nimport { User } from \"@/redux/reduxTypes\";\r\nimport axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { SubmitHandler, useForm } from \"react-hook-form\";\r\n\r\ntype formType = {\r\n  username: string,\r\n  password: string,\r\n  newPassword: string,\r\n  newPasswordAgain: string,\r\n  phoneNumber: string,\r\n  email: string,\r\n\r\n}\r\n\r\nconst Page = () => {\r\n\r\n\r\n  const { user } = useAppSelector((state) => state.auth);\r\n  const dispatch = useAppDispatch();\r\n  const [isEditing, setIsEditing] = useState<boolean>(false);\r\n  const [isEquals, setIsEquals] = useState<boolean>(true);\r\n\r\n\r\n  const handleSave: SubmitHandler<formType> = async (data) => {\r\n    const payload: Partial<formType> = {};\r\n\r\n    if (data.username && data.username !== user?.username) {\r\n      payload.username = data.username;\r\n    }\r\n\r\n    if (data.email && data.email !== user?.email) {\r\n      payload.email = data.email;\r\n    }\r\n\r\n    if (data.phoneNumber && data.phoneNumber !== user?.phoneNumber) {\r\n      payload.phoneNumber = data.phoneNumber;\r\n\r\n    }\r\n\r\n    if (data.newPassword && data.newPassword === data.newPasswordAgain && data.password) {\r\n      payload.password = data.password;\r\n      payload.newPassword = data.newPassword;\r\n      payload.newPasswordAgain = data.newPasswordAgain;\r\n      if (payload.newPassword !== payload.newPasswordAgain) setIsEquals(false);\r\n    }\r\n\r\n    if (Object.keys(payload).length === 0) return;\r\n\r\n    try {\r\n      const res = await axios.patch(\"http://localhost:5200/api/auth/update-profile\", {\r\n        payload\r\n      }, { withCredentials: true });\r\n      if (res.data)\r\n        dispatch(login(res.data));\r\n      setIsEditing(false);\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n    setIsEditing(false);\r\n  };\r\n\r\n  const { register, handleSubmit, formState: { errors } } = useForm<formType>({\r\n   });\r\n\r\n  return (\r\n    <div className=\"border-borderColor border-[1px] rounded-lg p-6 flex flex-col\">\r\n      <div className=\"mb-5 flex flex-col gap-2\">\r\n        <h1 className=\"leading-7 text-2xl font-semibold\">Account Settings</h1>\r\n        <p className=\"text-gray leading-5\">Manage your personal information and password.</p>\r\n      </div>\r\n      <form onSubmit={handleSubmit(handleSave)}>\r\n        <div className=\"grid grid-cols-2 gap-x-4  gap-y-3.5 border-b-[1px] border-borderColor text-sm pb-6 mb-[30px]\">\r\n          <div className=\"flex flex-col gap-[10px]\">\r\n            <label className=\"leading-3.5 font-medium\">Full Name</label>\r\n            <input className=\"input px-3 py-2\"\r\n\r\n              defaultValue={user?.username}\r\n              {...register(\"username\", {})}\r\n              disabled={!isEditing}\r\n            />\r\n          </div>\r\n          <div className=\"flex flex-col gap-[10px]\">\r\n            <label className=\"leading-3.5 font-medium\">Email Address</label>\r\n            <input className=\"input px-3 py-2\"\r\n\r\n              defaultValue={user?.email || \"\"}\r\n              {...register(\"email\", {\r\n                validate: {\r\n                  isUAFormat: (value) =>\r\n                    /^\\w+@\\w+\\.\\w{2,3}$/.test(value) || \"Wrong email format\",\r\n                }\r\n              })}\r\n              disabled={!isEditing}\r\n            />\r\n            {errors.email && (\r\n              <div className=\"\">{errors.email.message}</div>\r\n            )}\r\n          </div>\r\n          <div className=\"flex flex-col gap-[10px]\">\r\n            <label className=\"leading-3.5 font-medium\">Phone Number</label>\r\n            <input type=\"tel\" className=\"input px-3 py-2\"\r\n\r\n              defaultValue={user?.phoneNumber || \"\"}\r\n              {...register(\"phoneNumber\", {\r\n                validate: {\r\n                  isUAFormat: (value) =>\r\n                    /^\\+380\\d{9}$/.test(value) || \"Phone must be in +380XXXXXXXXX format\",\r\n                }\r\n              })}\r\n              disabled={!isEditing}\r\n            />\r\n            {errors.phoneNumber && (\r\n              <div className=\"\">{errors.phoneNumber.message}</div>\r\n            )}\r\n          </div>\r\n\r\n        </div>\r\n        <div className=\"\">\r\n          <h2 className=\"text-[18px] leading-7 font-medium mb-2.5\">Password Management</h2>\r\n          <div className=\"grid grid-cols-2 gap-x-4  gap-y-3.5 text-sm\">\r\n            <div className=\"flex flex-col gap-[10px]\">\r\n              <label className=\"leading-3.5 font-medium\">Current Password</label>\r\n              <input className=\"input px-3 py-2\"\r\n                type=\"password\"\r\n                {...register(\"password\", {})}\r\n\r\n                disabled={!isEditing}\r\n              />\r\n            </div>\r\n            <div className=\"flex flex-col gap-[10px]\">\r\n              <label className={`leading-3.5 font-medium `}>New Password</label>\r\n              <input className={`input px-3 py-2 ${isEquals ? \"\" : \"border-red-500!\"}  `}\r\n                type=\"password\"\r\n                {...register(\"newPassword\", {})}\r\n                disabled={!isEditing}\r\n              />\r\n            </div>\r\n            <div className=\"flex flex-col gap-[10px] \">\r\n              <label className={`leading-3.5 font-medium `}>Confirm New Password</label>\r\n              <input className={`input px-3 py-2 ${isEquals ? \"\" : \"border-red-500!\"}`}\r\n                type=\"password\"\r\n                {...register(\"newPasswordAgain\", {})}\r\n                disabled={!isEditing}\r\n              />\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex gap-4 mt-4\">\r\n\r\n          <button disabled={!isEditing}\r\n            type=\"submit\"\r\n            className={`btn p-2 disabled:bg-gray! disabled:cursor-auto! `}\r\n          >\r\n            Save Changes\r\n          </button>\r\n\r\n          <button disabled={isEditing}\r\n            type=\"button\"\r\n            onClick={() => { setIsEditing(true); }}\r\n            className=\"btn p-2 disabled:bg-gray! disabled:cursor-auto!\"\r\n          >\r\n            Edit\r\n          </button>\r\n\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Page;\r\n"],"names":[],"mappings":"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","debugId":null}}]
}