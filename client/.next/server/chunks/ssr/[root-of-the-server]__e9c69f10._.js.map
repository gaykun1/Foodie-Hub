{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/FoodieHub/client/src/utils/iconMapObjects.ts"],"sourcesContent":["\"use client\"\r\n\r\n\r\nimport L from \"leaflet\"\r\n\r\n\r\nexport const receiverIcon = new L.Icon({\r\n    iconUrl: \"/my-marker.png\",\r\n    iconSize: [25, 25],\r\n})\r\n\r\nexport const restaurantIcon =\r\n    new L.Icon({\r\n        iconUrl: \"/restaurant.png\",\r\n        iconSize: [25, 25],\r\n    })\r\n\r\nexport const courierIcon  =  new L.Icon({\r\n    iconUrl:\"/courier.png\",\r\n    iconSize:[25,25],\r\n})\r\n\r\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;AAMO,MAAM,eAAe,IAAI,iJAAA,CAAA,UAAC,CAAC,IAAI,CAAC;IACnC,SAAS;IACT,UAAU;QAAC;QAAI;KAAG;AACtB;AAEO,MAAM,iBACT,IAAI,iJAAA,CAAA,UAAC,CAAC,IAAI,CAAC;IACP,SAAS;IACT,UAAU;QAAC;QAAI;KAAG;AACtB;AAEG,MAAM,cAAgB,IAAI,iJAAA,CAAA,UAAC,CAAC,IAAI,CAAC;IACpC,SAAQ;IACR,UAAS;QAAC;QAAG;KAAG;AACpB","debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/FoodieHub/client/src/utils/InvalidateMapSize%20.tsx"],"sourcesContent":["import { useEffect } from \"react\";\r\nimport { useMap } from \"react-leaflet\";\r\n\r\nexport const InvalidateMapSize = () => {\r\n  const map = useMap();\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      map.invalidateSize();\r\n    }, 100);\r\n  }, [map]);\r\n\r\n  return null;\r\n};\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,oBAAoB;IAC/B,MAAM,MAAM,CAAA,GAAA,gJAAA,CAAA,SAAM,AAAD;IAEjB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,WAAW;YACT,IAAI,cAAc;QACpB,GAAG;IACL,GAAG;QAAC;KAAI;IAER,OAAO;AACT","debugId":null}},
    {"offset": {"line": 66, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/FoodieHub/client/src/components/order/MapTracker.tsx"],"sourcesContent":["\"use client\"\r\nimport { Order } from '@/redux/reduxTypes';\r\nimport { courierIcon, receiverIcon, restaurantIcon } from '@/utils/iconMapObjects';\r\nimport axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { MapContainer, Marker, TileLayer, useMap } from 'react-leaflet';\r\nimport { io, Socket } from 'socket.io-client';\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport { InvalidateMapSize } from '@/utils/InvalidateMapSize ';\r\n\r\n\r\n\r\nconst MapTracker = ({ isWorking, Width, Height, socket, courierLocation }: { Width: string, Height: string, isWorking: Order | null, socket: Socket | null, courierLocation: [number, number] | null }) => {\r\n    const [restaurantLocation, setRestaurantLocation] = useState<[number, number] | null>(null);\r\n    const [receiverLocation, setReceiverLocation] = useState<[number, number] | null>(null);\r\n    const [loadingLocation, setLoadingLocation] = useState<boolean>(true);\r\n\r\n\r\n    // connecting to socket room, geocoding receiver adress\r\n    useEffect(() => {\r\n        if (socket && isWorking) {\r\n            socket.emit(\"joinOrder\", isWorking._id);\r\n            const geoCode = async () => {\r\n                try {\r\n                    await getRestaurentLocation();\r\n                    await getReceiverLocation();\r\n                } catch (err) {\r\n                    console.error(err);\r\n                } finally {\r\n                    setLoadingLocation(false);\r\n\r\n                }\r\n\r\n            }\r\n\r\n            geoCode();\r\n\r\n        }\r\n    }, [socket, isWorking]);\r\n\r\nconst isReady =\r\n  !loadingLocation &&\r\n  courierLocation &&\r\n  receiverLocation &&\r\n  restaurantLocation;\r\n\r\n    // geocoding fuuctions -- latitude longitude for marker position on the map\r\n    const getRestaurentLocation = async () => {\r\n        try {\r\n            if (isWorking) {\r\n                const res1 = await axios.get(`http://localhost:5200/api/restaurant/get-restaurant-adress/${isWorking.restaurantTitle}`);\r\n                const adress = res1.data.adress;\r\n                const address = `${adress.street} ${adress.houseNumber}, ${adress.city}`;\r\n                const res2 = await axios.get(`http://localhost:5200/api/geocode?q=${address}`)\r\n\r\n                const lat = res2.data[0].lat;\r\n                const lng = res2.data[0].lon;\r\n                setRestaurantLocation([lat, lng]);\r\n            }\r\n\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    }\r\n    const getReceiverLocation = async () => {\r\n        try {\r\n            if (isWorking) {\r\n                const address = `${isWorking.adress.street} ${isWorking.adress.houseNumber}, ${isWorking.adress.city}`;\r\n                const res = await fetch(`http://localhost:5200/api/geocode?q=${address}`)\r\n                const data = await res.json();\r\n                console.log(data);\r\n                const lat = data[0].lat;\r\n                const lng = data[0].lon;\r\n                setReceiverLocation([lat, lng]);\r\n            }\r\n        } catch (err) {\r\n            console.error(err);\r\n        } finally {\r\n        }\r\n    }\r\n\r\n    \r\n    return (<>\r\n\r\n        {\r\n            !isReady ? (<div className=\"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500 border-solid mx-auto\"></div>) : courierLocation != null && receiverLocation != null && restaurantLocation != null &&\r\n\r\n                <MapContainer zoom={15} style={{ width: Width, height: Height }} center={receiverLocation} >\r\n                    <InvalidateMapSize />\r\n                    <TileLayer attribution='copy& Copyright openStreetMap ' url='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png' />\r\n                    <Marker position={receiverLocation} icon={receiverIcon} />\r\n                    <Marker position={restaurantLocation} icon={restaurantIcon} />\r\n                    <Marker position={courierLocation} icon={courierIcon} />\r\n                </MapContainer >\r\n\r\n\r\n        }\r\n\r\n    </>\r\n    )\r\n}\r\n\r\nexport default MapTracker"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/FoodieHub/client/src/components/order/OrderCard.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Order } from \"@/redux/reduxTypes\"\r\nimport axios from \"axios\";\r\nimport { Check, ChevronsRight, ClipboardList, Clock, DollarSign } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\n\r\nconst OrderCard = ({ order, setViewDetails }: { order: Order, setViewDetails: React.Dispatch<React.SetStateAction<Order | null>>; }) => {\r\n    const date = new Date((order.createdAt)).toDateString();\r\n\r\n\r\n    return (\r\n        <div className={`rounded-lg shadow-xs border-[1px]  ${order.status == \"Delivering\" ? \"border-[#636AE8FF]\" : \"border-borderColor\"}`}>\r\n            {/* header */}\r\n            <div className=\" border-b-[1px] border-borderColor pb-2 mb-4\">\r\n                <div className=\"px-4 py-5 flex flex-col gap-[2px]\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <h3 className=\"text-lg leading-7 font-semibold \">{order.restaurantTitle}</h3>\r\n\r\n                        <span className=\"text-sm leading-5 text-gray\">{date}</span>\r\n                    </div>\r\n                    <span className=\"text-sm leading-5 text-gray \">Order ID: {order._id}</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"px-4 pb-5\">\r\n                <div className=\" flex   gap-4 mb-7.5\">\r\n                    <div className=\" border-[1px] size-[96px] relative  border-borderColor rounded-md overflow-hidden\">\r\n                        <img className=\"object-cover absolute top-0 left-0 w-full h-full\" src={order.restaurantImage} alt=\"restaurant image\" />\r\n                    </div>\r\n                    <div className=\"flex flex-col justify-between\">\r\n                        <span className=\"leading-6 font-medium flex items-center  gap-2\">\r\n                            <ClipboardList size={16} />\r\n                            <span >Items: {order.items.length}</span>\r\n                        </span>\r\n                        <span className=\"font-bold text-2xl laeding-8 flex text-primary items-center font-archivo\"><DollarSign size={24} /><span>{order.totalPrice.toFixed(2)}</span></span>\r\n                        <span className=\"leading-5 text-sm flex items-center text-gray  gap-2\">\r\n                            <Clock size={16} />\r\n                            <span >Aprox.Time: {order.\r\n                                approxTime} min</span>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div className={`border-[1px] py-2 px-4 ${order.status === \"Delivering\" ? \"text-primary border-primary bg-[#636AE833]\" : order.status == \"Delivered\" ? \"text-[#37db70] border-[#37db70] bg-[#DCFCE7FF]\" : \"text-primary border-primary bg-[#4d55ed33]\"}  rounded-4xl  text-xs leading-5 font-medium `}>{order.status}</div>\r\n                    {order.status === \"Delivering\" ? (\r\n                        <div className=\"flex gap-2\">\r\n                            <button className=\"btn py-1.5 px-2\">Track order</button>\r\n\r\n                            <button onClick={() => setViewDetails(order)} className=\"border-[1px] flex items-center gap-1 border-borderColor rounded-md py-1.5  hover:text-white cursor-pointer px-2 hover:bg-gray transition-colors\">\r\n                                <span>View Details</span>\r\n                                <ChevronsRight />\r\n                            </button>\r\n                        </div>\r\n                    ) : (<button onClick={() => setViewDetails(order)} className=\"border-[1px] flex items-center gap-1 border-borderColor rounded-md py-1.5  hover:text-white cursor-pointer px-2 hover:bg-gray transition-colors\">\r\n                        <span>View Details</span>\r\n                        <ChevronsRight />\r\n                    </button>)}\r\n\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default OrderCard"],"names":[],"mappings":";;;;AAIA;AAAA;AAAA;AAAA;AAJA;;;AAOA,MAAM,YAAY,CAAC,EAAE,KAAK,EAAE,cAAc,EAAyF;IAC/H,MAAM,OAAO,IAAI,KAAM,MAAM,SAAS,EAAG,YAAY;IAGrD,qBACI,8OAAC;QAAI,WAAW,CAAC,mCAAmC,EAAE,MAAM,MAAM,IAAI,eAAe,uBAAuB,sBAAsB;;0BAE9H,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAG,WAAU;8CAAoC,MAAM,eAAe;;;;;;8CAEvE,8OAAC;oCAAK,WAAU;8CAA+B;;;;;;;;;;;;sCAEnD,8OAAC;4BAAK,WAAU;;gCAA+B;gCAAW,MAAM,GAAG;;;;;;;;;;;;;;;;;;0BAG3E,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;0CACX,cAAA,8OAAC;oCAAI,WAAU;oCAAmD,KAAK,MAAM,eAAe;oCAAE,KAAI;;;;;;;;;;;0CAEtG,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAK,WAAU;;0DACZ,8OAAC,wNAAA,CAAA,gBAAa;gDAAC,MAAM;;;;;;0DACrB,8OAAC;;oDAAM;oDAAQ,MAAM,KAAK,CAAC,MAAM;;;;;;;;;;;;;kDAErC,8OAAC;wCAAK,WAAU;;0DAA2E,8OAAC,kNAAA,CAAA,aAAU;gDAAC,MAAM;;;;;;0DAAM,8OAAC;0DAAM,MAAM,UAAU,CAAC,OAAO,CAAC;;;;;;;;;;;;kDACnJ,8OAAC;wCAAK,WAAU;;0DACZ,8OAAC,oMAAA,CAAA,QAAK;gDAAC,MAAM;;;;;;0DACb,8OAAC;;oDAAM;oDAAa,MAChB,UAAU;oDAAC;;;;;;;;;;;;;;;;;;;;;;;;;kCAI3B,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAW,CAAC,uBAAuB,EAAE,MAAM,MAAM,KAAK,eAAe,+CAA+C,MAAM,MAAM,IAAI,cAAc,mDAAmD,6CAA6C,6CAA6C,CAAC;0CAAG,MAAM,MAAM;;;;;;4BACnT,MAAM,MAAM,KAAK,6BACd,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;wCAAO,WAAU;kDAAkB;;;;;;kDAEpC,8OAAC;wCAAO,SAAS,IAAM,eAAe;wCAAQ,WAAU;;0DACpD,8OAAC;0DAAK;;;;;;0DACN,8OAAC,wNAAA,CAAA,gBAAa;;;;;;;;;;;;;;;;qDAGrB,8OAAC;gCAAO,SAAS,IAAM,eAAe;gCAAQ,WAAU;;kDACzD,8OAAC;kDAAK;;;;;;kDACN,8OAAC,wNAAA,CAAA,gBAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAStC;uCAEe","debugId":null}},
    {"offset": {"line": 492, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/FoodieHub/client/src/components/order/ViewDetailsSidebar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { Order } from \"@/redux/reduxTypes\"\r\nimport { Calendar, MapPin, User } from \"lucide-react\"\r\n\r\nconst ViewDetailsSidebar = ({ viewDetails }: { viewDetails: Order | null }) => {\r\n \r\n    return(\r\n        <>\r\n        <div className=\"shadow-xs border-[1px] border-borderColor rounded-lg p-[25px]\">\r\n              {viewDetails ?\r\n                (\r\n                  <>\r\n                    <div className=\"flex flex-col gap-1 pb-4 mb-6 border-b-[1px] border-borderColor \">\r\n                      <h2 className='text-2xl leading-8 font-bold '>Order Details</h2>\r\n                      <p className='tetx-sm leading-5 text-gray'>ID:{viewDetails?._id}</p>\r\n                    </div>\r\n                    <div className=\"pb-4 mb-6 border-b-[1px] border-borderColor flex flex-col gap-3\">\r\n                      <div className=\"flex items-start gap-4 text-gray text-base leading-6 font-medium\">\r\n                        <Calendar size={20} />\r\n                        <div className=\"flex flex-col\">\r\n                          <span>Date:</span>\r\n                          <span className='font-semibold text-secondary'>{new Date(viewDetails.createdAt).toDateString()}</span>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-start gap-4 text-gray text-base leading-6 font-medium\">\r\n                        <User size={20} />\r\n                        <div className=\"flex flex-col\">\r\n                          <span>Customer:</span>\r\n                          <span className='font-semibold text-secondary'>{viewDetails.fullName}</span>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div className=\"flex items-start gap-4 text-gray text-base leading-6 font-medium\">\r\n                        <MapPin size={20} />\r\n                        <div className=\"flex flex-col\">\r\n                          <span>Delivery To:</span>\r\n                          <span className='font-semibold text-secondary'>â„–{viewDetails.adress.apartmentNumbr ? viewDetails.adress.apartmentNumbr : \"...\"}, {viewDetails.adress.houseNumber} {viewDetails.adress.street}, {viewDetails.adress.city}, {viewDetails.adress.countryOrRegion}</span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex flex-col gap-4\">\r\n                      <h2 className='text-lg leading-7 font-bold'>Order Items ( {viewDetails.items.length} )</h2>\r\n                      {viewDetails.items.map((item, idx) => (\r\n                        <div key={idx} className=\"flex items-center justify-between border-b-[1px] border-borderColor py-2\">\r\n                          <div className=\"flex items-center gap-4\">\r\n                            <div className=\" border-[1px] size-20 relative  border-borderColor rounded-md overflow-hidden\">\r\n                              <img className=\"object-cover absolute top-0 left-0 w-full h-full\" src={item.imageUrl} alt=\"dish image\" />\r\n\r\n                            </div>\r\n                            <div className=\"\">\r\n                              <h3 className='text-base leading-6 font-semibold'>\r\n                                {item.title}\r\n                              </h3>\r\n                              <span className='text-sm leading-5 text-gray'>Quantity: {item.amount}</span>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"font-bold \">${item.price.toFixed(2)}</div>\r\n                        </div>\r\n                      ))}\r\n                    <div className=\"flex flex-col gap-2 text-base leading-6 font-medium\">\r\n                    <div className=\"flex items-center justify-between  \">\r\n                        <span className=\"text-gray\">Subtotal</span>\r\n                        <span className=\"text-black\">${viewDetails.totalPrice.toFixed(2)}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between  \">\r\n                        <span className=\"text-gray\">Shipping</span>\r\n                        <span className=\"text-black\">${viewDetails.shippingPrice}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between  \">\r\n                        <span className=\"text-gray\">Discount</span>\r\n                        <span className={`text-black ${viewDetails.discountPercent > 0 ? \"text-green-600\" : \"\"}`}>{viewDetails.discountPercent}%</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"mt-[18px] mb-[30px] text-lg leading-7 font-bold flex items-center justify-between\">\r\n                    <span>Total</span>\r\n                    <span>{viewDetails.totalPrice}</span>\r\n                </div>\r\n                    </div>\r\n                  </>\r\n\r\n                ) : (\r\n                  <>\r\n                    <div className=\"flex flex-col gap-1 pb-4 mb-6 border-b-[1px] border-borderColor \">\r\n                      <h2 className='text-2xl leading-8 font-bold '>Order Details</h2>\r\n                    </div></>\r\n                )\r\n              }\r\n            </div>\r\n        </>\r\n    )\r\n        \r\n        \r\n}\r\n\r\nexport default ViewDetailsSidebar"],"names":[],"mappings":";;;;AAGA;AAAA;AAAA;AAHA;;;AAKA,MAAM,qBAAqB,CAAC,EAAE,WAAW,EAAiC;IAEtE,qBACI;kBACA,cAAA,8OAAC;YAAI,WAAU;sBACR,4BAEG;;kCACE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAgC;;;;;;0CAC9C,8OAAC;gCAAE,WAAU;;oCAA8B;oCAAI,aAAa;;;;;;;;;;;;;kCAE9D,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,0MAAA,CAAA,WAAQ;wCAAC,MAAM;;;;;;kDAChB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;0DAAK;;;;;;0DACN,8OAAC;gDAAK,WAAU;0DAAgC,IAAI,KAAK,YAAY,SAAS,EAAE,YAAY;;;;;;;;;;;;;;;;;;0CAGhG,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,kMAAA,CAAA,OAAI;wCAAC,MAAM;;;;;;kDACZ,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;0DAAK;;;;;;0DACN,8OAAC;gDAAK,WAAU;0DAAgC,YAAY,QAAQ;;;;;;;;;;;;;;;;;;0CAIxE,8OAAC;gCAAI,WAAU;;kDACb,8OAAC,0MAAA,CAAA,SAAM;wCAAC,MAAM;;;;;;kDACd,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;0DAAK;;;;;;0DACN,8OAAC;gDAAK,WAAU;;oDAA+B;oDAAE,YAAY,MAAM,CAAC,cAAc,GAAG,YAAY,MAAM,CAAC,cAAc,GAAG;oDAAM;oDAAG,YAAY,MAAM,CAAC,WAAW;oDAAC;oDAAE,YAAY,MAAM,CAAC,MAAM;oDAAC;oDAAG,YAAY,MAAM,CAAC,IAAI;oDAAC;oDAAG,YAAY,MAAM,CAAC,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;kCAInQ,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;;oCAA8B;oCAAe,YAAY,KAAK,CAAC,MAAM;oCAAC;;;;;;;4BACnF,YAAY,KAAK,CAAC,GAAG,CAAC,CAAC,MAAM,oBAC5B,8OAAC;oCAAc,WAAU;;sDACvB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;8DACb,cAAA,8OAAC;wDAAI,WAAU;wDAAmD,KAAK,KAAK,QAAQ;wDAAE,KAAI;;;;;;;;;;;8DAG5F,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DAAG,WAAU;sEACX,KAAK,KAAK;;;;;;sEAEb,8OAAC;4DAAK,WAAU;;gEAA8B;gEAAW,KAAK,MAAM;;;;;;;;;;;;;;;;;;;sDAGxE,8OAAC;4CAAI,WAAU;;gDAAa;gDAAE,KAAK,KAAK,CAAC,OAAO,CAAC;;;;;;;;mCAbzC;;;;;0CAgBd,8OAAC;gCAAI,WAAU;;kDACf,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAK,WAAU;0DAAY;;;;;;0DAC5B,8OAAC;gDAAK,WAAU;;oDAAa;oDAAE,YAAY,UAAU,CAAC,OAAO,CAAC;;;;;;;;;;;;;kDAElE,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAK,WAAU;0DAAY;;;;;;0DAC5B,8OAAC;gDAAK,WAAU;;oDAAa;oDAAE,YAAY,aAAa;;;;;;;;;;;;;kDAE5D,8OAAC;wCAAI,WAAU;;0DACX,8OAAC;gDAAK,WAAU;0DAAY;;;;;;0DAC5B,8OAAC;gDAAK,WAAW,CAAC,WAAW,EAAE,YAAY,eAAe,GAAG,IAAI,mBAAmB,IAAI;;oDAAG,YAAY,eAAe;oDAAC;;;;;;;;;;;;;;;;;;;0CAG/H,8OAAC;gCAAI,WAAU;;kDACX,8OAAC;kDAAK;;;;;;kDACN,8OAAC;kDAAM,YAAY,UAAU;;;;;;;;;;;;;;;;;;;6CAM/B;0BACE,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAG,WAAU;kCAAgC;;;;;;;;;;;;;;;;;;AASpE;uCAEe","debugId":null}},
    {"offset": {"line": 950, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/User/Desktop/pet%20projects/FoodieHub/client/src/app/%28main%29/orders/page.tsx"],"sourcesContent":["\"use client\"\r\nimport MapTracker from '@/components/order/MapTracker';\r\nimport OrderCard from '@/components/order/OrderCard';\r\nimport ViewDetailsSidebar from '@/components/order/ViewDetailsSidebar';\r\nimport { Order } from '@/redux/reduxTypes'\r\nimport axios from 'axios';\r\nimport { Map, } from 'lucide-react';\r\nimport { useEffect, useState } from 'react'\r\nimport { io, Socket } from 'socket.io-client';\r\n\r\nconst Page = () => {\r\n  const [orders, setOrders] = useState<Order[] | null>();\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [socket, setSocket] = useState<Socket | null>(null);\r\n  const [viewDetails, setViewDetails] = useState<Order | null>(null);\r\n  const [courierLocation, setCourierLocation] = useState<[number, number] | null>(null);\r\n\r\n  // creating a socket connection\r\n  useEffect(() => {\r\n\r\n    const sock = io(\"http://localhost:5200\");\r\n    setSocket(sock);\r\n\r\n\r\n    return () => { sock.disconnect(); }\r\n\r\n\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n    const handleLocationUpdate = ({ lat, lng }: { lat: number; lng: number }) => {\r\n      setCourierLocation([lat, lng]);\r\n      console.log(\"locationUpdate:\", lat, lng);\r\n    };\r\n\r\n    socket.on(\"locationUpdate\", handleLocationUpdate);\r\n\r\n    return () => {\r\n      socket.off(\"locationUpdate\", handleLocationUpdate);\r\n    };\r\n\r\n\r\n  }, [socket])\r\n\r\n  useEffect(() => {\r\n    const getOrders = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const res = await axios.get(\"http://localhost:5200/api/order/get-orders\", { withCredentials: true });\r\n        if (res) setOrders(res.data);\r\n      } catch (err) {\r\n        console.error(err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    getOrders();\r\n\r\n\r\n\r\n\r\n\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (orders) {\r\n\r\n      const item = orders?.find(order => order.status === \"Preparing\") || orders[0];\r\n      setViewDetails(item);\r\n\r\n    }\r\n\r\n  }, [orders])\r\n  const currentOrders = orders?.filter(order => order.status == \"Delivering\" || order.status == \"Preparing\");\r\n  const pastOrders = orders?.filter(order => order.status == \"Delivered\");\r\n\r\n  return (\r\n    <div className='py-8 '>\r\n      <h1 className='text-[36px] font-extrabold leading-10 mb-9'>Your Orders</h1>\r\n      {orders && orders.length > 0 ? (\r\n        <div className=\"flex gap-8\">\r\n          <div className=\"basis-[874px]  pt-1\">\r\n            {/* current orders */}\r\n            <div className=\"\">\r\n              <h2 className=\"text-2xl leading-8 font-bold mb-4.5 \">Current Orders ( {currentOrders?.length} )</h2>\r\n              <div className=\"gap-4 grid grid-cols-2\">\r\n                {currentOrders?.map((order, idx) => (\r\n                  <div className=\"\" key={idx}>\r\n                    <OrderCard setViewDetails={setViewDetails} order={order} />\r\n\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* past orders */}\r\n            <div className=\"mt-9\">\r\n              <h2 className=\"text-2xl leading-8 font-bold mb-4.5\">Past Orders (  {pastOrders?.length} )</h2>\r\n              <div className=\"gap-4 grid grid-cols-2\">\r\n                {pastOrders?.map((order, idx) => (\r\n                  <div className=\"\" key={idx}>\r\n                    <OrderCard setViewDetails={setViewDetails} order={order} />\r\n\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\" grow-1 flex flex-col gap-8\">\r\n            {(viewDetails?.status !== \"Delivered\" && viewDetails?.courierId !== null) && (\r\n              <div className=\"shadow-xs border-[1px] border-borderColor rounded-lg p-[25px]\">\r\n                <div className=\"flex flex-col mb-8 gap-1.5\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Map className='text-primary' size={20} />\r\n                    <h2 className='text-xl leading-7 font-bold'>Live Tracking</h2>\r\n                  </div>\r\n\r\n                  <p className='text-sm leading-5 text-gray'>Your order is on its way to {viewDetails?.adress.houseNumber} {viewDetails?.adress.street}</p>\r\n                </div>\r\n                <div className=\"overflow-hidden  rounded-lg\">\r\n                  <MapTracker Width='420px' Height='250px' courierLocation={courierLocation} socket={socket} isWorking={viewDetails} />\r\n\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <ViewDetailsSidebar viewDetails={viewDetails} />\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n      ) : (<span className='text-2xl leading-8 font-bold'>No orders yet!</span>)}\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Page"],"names":[],"mappings":"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","debugId":null}}]
}